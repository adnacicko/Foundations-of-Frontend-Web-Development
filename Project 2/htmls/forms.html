<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Book a Table</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="../assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link rel="stylesheet" type="text/css" href="../css/styles.css">
        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <!-- jQuery Validator -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.2/jquery.validate.min.js"></script>
        <!-- jQuery BlockUI -->
       <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.blockUI/2.70/jquery.blockUI.min.js"></script>

       <!-- Toastr -->
       <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
       <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>

       <!-- Bootstrap core JS-->
       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
       <!-- Core theme JS-->
       <script src="../js/scripts.js"></script>
       <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
       <!-- * *                               SB Forms JS                               * *-->
       <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
       <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
       <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    </head>

    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="#page-top"><img src="../assets/img/logo (1).png" alt="..." /></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars ms-1"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav text-uppercase ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link" href="#menu">Menu</a></li>
                        <li class="nav-item"><a class="nav-link" href="index.html#about">About</a></li>
                        <li class="nav-item"><a class="nav-link" href="#portfolio">Gallery</a></li>
                        <li class="nav-item"><a class="nav-link" href="#team">Team</a></li>
                        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="bg-light rounded-3 py-5 px-4 px-md-5 mb-5">
            <div class="text-center mb-5">
                <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i class="bi bi-envelope"></i></div>
                <h3 class="fw-bolder">Make your reseravation on time!</h3>
                <p class="lead fw-normal text-muted mb-0">Fill out the form below</p>
            </div>
            <div class="row gx-5 justify-content-center">
                <div class="col-lg-8 col-xl-6">
                    
                    <form id="myForm">
                        <div class="form-group">
                            <label for="name">First name:</label>
                            <input type="text" class="form-control" id="fname" name="fname" placeholder="Enter your name" required>
                        </div>

                        <br>

                        <div class="form-group">
                            <label for="name">Last name:</label>
                            <input type="text" class="form-control" id="lname" name="lname" placeholder="Enter your surname" required>
                        </div>

                        <br>

                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email address" required>
                        </div>

                        <br>

                        <div class="form-group">
                            <label for="password">Phone:</label>
                            <input type="tel" class="form-control" id="phone" name="phone" placeholder="Enter your phone number" required>
                        </div>

                        <br>

                        <div class="form-group">
                            <label for="occasion">Occasion:</label>
                            <select id="occasion" class="form-control" name="occasion" required>
                              <option value selected disabled=" ">Occasion (optional)</option>
                              <option value=" ">Birthday</option>
                              <option value=" ">Anniversary</option>
                              <option value=" ">Graduation</option>
                              <option value=" ">Corporate Events</option>
                              <option value=" ">Engagement Parties</option>
                              <option value=" ">Breakfast</option>
                              <option value=" ">Lunch</option>
                              <option value=" ">Dinner</option>
                            </select> 
                            
                        </div>
                        
                        <br>

                        <div class="form-group">
                            <label for="guests">Guests:</label>
                            <select id="guests" class="form-control" name="guests" required>
                              <option value selected disabled=" ">Number of guests</option>
                              <option value=" ">1</option>
                              <option value=" ">2</option>
                              <option value=" ">3</option>
                              <option value=" ">4</option>
                              <option value=" ">5</option>
                              <option value=" ">6</option>
                              <option value=" ">7</option>
                              <option value=" ">8</option>
                              <option value=" ">9</option>
                              <option value=" ">10</option>
                            </select> 
                        </div>

                        <br>

                        <!-- Date and Time-->
                        <div class="form-group">
                            <label for="date">Date</label>
                            <input class="form-control" id="date" type="date" name="date" placeholder="Select a date" />
                            
                        </div>

                        <br>

                        <div class="form-group">
                            <label for="time">Time</label>
                            <input class="form-control" id="time" type="time" name="time" placeholder="Select a time" />
                            
                        </div>

                        <br>

                        <!-- Message input-->
                        <div class="form-group">
                            <label for="message">If you have any special requirements, let us know!</label>
                            <textarea class="form-control" id="message" type="text" name="message" placeholder="Enter your message here..." style="height: 10rem"required></textarea>
                            
                            
                        </div>
                        
                        <br><br>
                          
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary">Submit</button>

                            
                        </div>
                        
                        
                    </form>

                    
                    
                </div>
            </div>
        </div>

        <div class="bg-light rounded-3 py-5 px-4 px-md-5 mb-5">
            <!-- Ostatak vaÅ¡e forme -->
            <a href="details.html">View Details</a>

        </div>
        
      

    
        
       
    
    </body>
    
    <script>
    
    $('#myForm').validate({
        rules: {
            fname: 'required',
            lname: 'required',
            email: {
                required: true,
                email: true
            },
            phone: 'required',
            date: 'required',
            time: 'required',
            occasion: 'required',
            guests: 'required',
            message: 'required'
                
            
        },
        messages: {
            fname: 'Please enter your name',
            lname: 'Please enter your surname',
            email: {
                required: 'Please enter your email',
                email: 'Please enter a valid email address'
            },
            phone: 'Please enter your phone number',
            date: 'Please select date',
            time: 'Please select time',
            occasion: 'Please choose one occasion',
            guests: 'Please choose one option',
            message: 'A message is required'
                
            
        },
    
        
        submitHandler: function (form) {
            try {
                // Block UI on form submission
                $.blockUI({ message: '<div class="spinner-border text-danger" role="status"><span class="visually-hidden">Loading...</span></div>' });
                // Reset the form
                $(form)[0].reset();
                // Unblock UI after request is complete
    
                setTimeout(function(){
                    console.log('time out');
                    $.unblockUI();
                    toastr.success('Your reservation has been submitted successfully!');
                    
                }, 3000);

                
                
            } catch (error) {
                console.error('Error in submitHandler:', error);
                alert('An error occurred. Please try again later.');
                // Unblock UI after request is complete
                $.unblockUI();
            }

            
        }



        
    });

    
        // Funkcija koja se poziva kada korisnik klikne na "Submit"
        function submitForm() {
            // Pohrani podatke iz forme u lokalnu pohranu
            localStorage.setItem('reservationData', JSON.stringify({
                fname: document.getElementById('fname').value,
                lname: document.getElementById('lname').value,
                email: document.getElementById('email').value,
                // Dodajte ovdje ostale podatke iz forme koje Å¾elite pohraniti
            }));

            // Preusmjeri korisnika na stranicu "details.html"
            window.location.href = 'details.html';
        }

        // Dodajte event listener za submit forme
        document.getElementById('reservationForm').addEventListener('submit', function(event) {
            event.preventDefault(); // SprijeÄava slanje forme
            submitForm(); // Poziva funkciju za pohranu podataka i preusmjeravanje
        });
    



  




    

    
    
    </script>
    </html>
